{"ast":null,"code":"import _slicedToArray from\"/Volumes/Dev/Examensarbete/Ex-Arb-Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import\"../Style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DeleteUser(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var handleDelete=function handleDelete(e){e.preventDefault();if(!userId){setError(\"Please enter a user ID\");return;}var token=localStorage.getItem(\"token\");axios.delete(\"http://localhost:8080/api/v1/users/delete_user/\".concat(userId),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(){window.alert(\"User deleted successfully!\");setUserId(\"\");}).catch(function(error){console.log(error);window.alert(\"Failed to delete user!\");});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Delete User\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDelete,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"userId\",children:\"User ID:\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"userId\",type:\"text\",placeholder:\"User ID\",value:userId,onChange:function onChange(e){return setUserId(e.target.value);}})]}),error&&/*#__PURE__*/_jsx(\"div\",{children:error}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Delete User\"})})]})]});}export default DeleteUser;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","DeleteUser","_useState","_useState2","_slicedToArray","userId","setUserId","_useState3","_useState4","error","setError","handleDelete","e","preventDefault","token","localStorage","getItem","delete","concat","headers","Authorization","then","window","alert","catch","console","log","children","onSubmit","htmlFor","id","type","placeholder","value","onChange","target"],"sources":["/Volumes/Dev/Examensarbete/Ex-Arb-Frontend/src/Components/DeleteUser.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"../Style.css\";\n\nfunction DeleteUser() {\n    const [userId, setUserId] = useState(\"\");\n    const [error, setError] = useState(\"\");\n\n    const handleDelete = (e) => {\n        e.preventDefault();\n        if (!userId) {\n            setError(\"Please enter a user ID\");\n            return;\n        }\n\n        const token = localStorage.getItem(\"token\");\n        axios\n            .delete(`http://localhost:8080/api/v1/users/delete_user/${userId}`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            })\n            .then(() => {\n                window.alert(\"User deleted successfully!\");\n                setUserId(\"\");\n            })\n            .catch((error) => {\n                console.log(error);\n                window.alert(\"Failed to delete user!\");\n            });\n    };\n\n    return (\n        <div>\n            <h3>Delete User</h3>\n            <form onSubmit={handleDelete}>\n                <div>\n                    <div>\n                        <label htmlFor=\"userId\">User ID:</label>\n                    </div>\n                    <input\n                        id=\"userId\"\n                        type=\"text\"\n                        placeholder=\"User ID\"\n                        value={userId}\n                        onChange={(e) => setUserId(e.target.value)}\n                    />\n                </div>\n                {error && <div>{error}</div>}\n                <div>\n                    <button type=\"submit\">Delete User</button>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default DeleteUser;\n"],"mappings":"gIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtB,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAClB,IAAAC,SAAA,CAA4BP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA0BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB,GAAM,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CACxBA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAI,CAACR,MAAM,CAAE,CACTK,QAAQ,CAAC,wBAAwB,CAAC,CAClC,OACJ,CAEA,GAAM,CAAAI,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CpB,KAAK,CACAqB,MAAM,mDAAAC,MAAA,CAAmDb,MAAM,EAAI,CAChEc,OAAO,CAAE,CACLC,aAAa,WAAAF,MAAA,CAAYJ,KAAK,CAClC,CACJ,CAAC,CAAC,CACDO,IAAI,CAAC,UAAM,CACRC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAC,CAC1CjB,SAAS,CAAC,EAAE,CAAC,CACjB,CAAC,CAAC,CACDkB,KAAK,CAAC,SAACf,KAAK,CAAK,CACdgB,OAAO,CAACC,GAAG,CAACjB,KAAK,CAAC,CAClBa,MAAM,CAACC,KAAK,CAAC,wBAAwB,CAAC,CAC1C,CAAC,CAAC,CACV,CAAC,CAED,mBACIvB,KAAA,QAAA2B,QAAA,eACI7B,IAAA,OAAA6B,QAAA,CAAI,aAAW,EAAK,cACpB3B,KAAA,SAAM4B,QAAQ,CAAEjB,YAAa,CAAAgB,QAAA,eACzB3B,KAAA,QAAA2B,QAAA,eACI7B,IAAA,QAAA6B,QAAA,cACI7B,IAAA,UAAO+B,OAAO,CAAC,QAAQ,CAAAF,QAAA,CAAC,UAAQ,EAAQ,EACtC,cACN7B,IAAA,UACIgC,EAAE,CAAC,QAAQ,CACXC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,SAAS,CACrBC,KAAK,CAAE5B,MAAO,CACd6B,QAAQ,CAAE,SAAAA,SAACtB,CAAC,QAAK,CAAAN,SAAS,CAACM,CAAC,CAACuB,MAAM,CAACF,KAAK,CAAC,EAAC,EAC7C,GACA,CACLxB,KAAK,eAAIX,IAAA,QAAA6B,QAAA,CAAMlB,KAAK,EAAO,cAC5BX,IAAA,QAAA6B,QAAA,cACI7B,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,aAAW,EAAS,EACxC,GACH,GACL,CAEd,CAEA,cAAe,CAAA1B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}